(function(e){function t(t){for(var a,i,o=t[0],c=t[1],u=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(m.length)m.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},n={app:0},r=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0ef8":function(e,t,s){},"31c4":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],i={name:"App"},o=i,c=(s("5c0b"),s("2877")),u=Object(c["a"])(o,n,r,!1,null,null,null),l=u.exports,d=s("1da1"),m=(s("96cf"),s("2f62")),p=s("bc3a"),f=s.n(p),v={login:function(e){return f.a.post("https://line-sender.herokuapp.com/login",e)},getAllUsers:function(){return f.a.get("https://line-sender.herokuapp.com/line-accounts").then((function(e){return e}))}},g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container 100vh"},[s("div",{staticClass:"d-flex align-items-center justify-content-center h-100"},[s("div",{staticClass:"d-flex flex-column form"},[s("h3",{staticClass:"text-center mb-4"},[e._v("Welcome")]),s("form",{attrs:{id:"form-validator"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.email.$error,"is-valid":!e.$v.email.$invalid},attrs:{type:"text",id:"email",placeholder:"Email"},domProps:{value:e.$v.email.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.email,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("div",{staticClass:"valid-feedback"},[e._v("Your email is valid!")]),s("div",{staticClass:"invalid-feedback"},[e.$v.email.required?e._e():s("span",[e._v("Email is required.")]),e.$v.email.isUnique?e._e():s("span",[e._v("This email is already registered.")])])]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.password.$model,expression:"$v.password.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.password.$error,"is-valid":!e.$v.password.$invalid},attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.$v.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("div",{staticClass:"valid-feedback"},[e._v("Your password is valid!")]),s("div",{staticClass:"invalid-feedback"},[e.$v.password.required?e._e():s("span",[e._v("Password is required.")]),e.$v.password.minLength?e._e():s("span",[e._v(e._s(e.$v.password.$params.minLength.min)+" characters minimun.")])])]),s("button",{staticClass:"form-submit",attrs:{type:"submit",id:"submit"}},[e._v("Login")])]),e._m(0)])])])},h=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex flex-row mt-2"},[s("button",{staticClass:"btn-fb me-3"},[e._v("Facebook")]),s("button",{staticClass:"btn-gg"},[e._v("Google")])])}],b=(s("d3b7"),s("b5ae")),C={name:"LoginForm",data:function(){return{email:"",password:""}},validations:{email:{required:b["required"],email:b["email"],isUnique:function(e){if(""===e)return!0;var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return new Promise((function(s){setTimeout((function(){s(t.test(e))}),350+300*Math.random())}))}},password:{required:b["required"],minLength:Object(b["minLength"])(6)}},methods:{submit:function(){if(this.$v.$touch(),!this.$v.$invalid){var e={email:this.email,password:this.password};this.$store.dispatch("login",e)}}}},_=C,w=(s("9c66"),Object(c["a"])(_,g,h,!1,null,"90088b76",null)),$=w.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-4 me-auto members"},e._l(e.users,(function(t){return s("div",{key:t.userId,staticClass:"d-flex align-items-center user-info"},[s("div",{staticClass:"flex-shrink-0"},[s("img",{attrs:{src:t.pictureURL,alt:"...",width:"50px",height:"50px"}})]),s("div",{staticClass:"flex-grow-1 ms-3"},[e._v(" "+e._s(t.displayName)+" ")]),s("div",{staticClass:"align-self-center ml-auto"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{staticClass:"custom-control-input",attrs:{id:"id-user-1",type:"checkbox"},on:{click:function(s){return e.createUsersNeedSend(t.userId)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id-user-1"}})])])])})),0),s("div",{staticClass:"col-8 chat"},[s("textarea",{staticClass:"form-control message",attrs:{id:"message"}}),s("div",{staticClass:"d-flex flex-row"},[s("button",{staticClass:"btn btn-primary mt-4 me-3"},[e._v("Send Message")]),s("button",{staticClass:"btn btn-danger mt-4",attrs:{onClick:"return confirm(Are you sure?)"},on:{click:e.toggleMessage}},[e._v("Reset Message")])])])])])},x=[],N={name:"Chat",data:function(){return{email:this.$store.state.accountLogin.email,users:[{userId:"1",displayName:"Ngoc Huy",pictureURL:"https://offsetcode.com/themes/messenger/1.1/assets/images/avatars/6.jpg"},{userId:"2",displayName:"Van Tu",pictureURL:"https://offsetcode.com/themes/messenger/1.1/assets/images/avatars/6.jpg"},{userId:"3",displayName:"Nguyen Van A",pictureURL:"https://offsetcode.com/themes/messenger/1.1/assets/images/avatars/5.jpg"},{userId:"4",displayName:"Nguyen Van B",pictureURL:"https://offsetcode.com/themes/messenger/1.1/assets/images/avatars/10.jpg"},{userId:"5",displayName:"Nguyen Van C",pictureURL:"https://offsetcode.com/themes/messenger/1.1/assets/images/avatars/6.jpg"},{userId:"6",displayName:"Nguyen Van C",pictureURL:"https://offsetcode.com/themes/messenger/1.1/assets/images/avatars/6.jpg"},{userId:"7",displayName:"Nguyen Van C",pictureURL:"https://offsetcode.com/themes/messenger/1.1/assets/images/avatars/6.jpg"}],messenger:"",UNeedSend:[]}},methods:{toggleMessage:function(){confirm("Do you really want to reset?")&&(document.getElementById("message").value="")},createUsersNeedSend:function(e){this.UNeedSend.push(e)}}},E=N,O=(s("dc12"),Object(c["a"])(E,y,x,!1,null,"3c253ac0",null)),U=O.exports,k=s("8c4f");a["a"].use(k["a"]);var j=[{path:"/",name:"login",component:$},{path:"/chat",name:"chat",component:U}],L=new k["a"]({routes:j});a["a"].use(m["a"]);var R=new m["a"].Store({state:{auth:{isAuthenticated:!0},accountLogin:{email:"",password:""},token:null,users:[]},mutations:{CHECK_ACCOUNT_INCORRECT:function(e){e.auth.isAuthenticated=!1},CHECK_ACCOUNT_CORRECT:function(e){e.auth.isAuthenticated=!0},GET_TOKEN:function(e,t){e.token=t},GET_EMAIL:function(e,t){e.accountLogin.email=t},GET_ALL_USERS:function(e,t){e.users=t}},actions:{login:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.commit,s.prev=1,s.next=4,v.login(t);case 4:n=s.sent,console.log(n),a("GET_TOKEN",n.data.token),a("GET_EMAIL",n.data.email),L.push("/chat"),a("CHECK_ACCOUNT_CORRECT"),s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](1),a("CHECK_ACCOUNT_INCORRECT"),console.log(s.t0);case 16:case"end":return s.stop()}}),s,null,[[1,12]])})))()},getAllUsers:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.commit,s.prev=1,s.next=4,v.getAllUsers();case 4:n=s.sent,console.log(n),a("GET_ALL_USERS"),console.log(t.state.users),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](1),console.log(s.t0);case 13:case"end":return s.stop()}}),s,null,[[1,10]])})))()}}}),T=R,A=(s("ab8b"),s("1dce")),S=s.n(A);a["a"].use(S.a),a["a"].use(k["a"]),a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(l)},router:L,store:T}).$mount("#app")},"5c0b":function(e,t,s){"use strict";s("9c0c")},"9c0c":function(e,t,s){},"9c66":function(e,t,s){"use strict";s("0ef8")},dc12:function(e,t,s){"use strict";s("31c4")}});
//# sourceMappingURL=app.ec309cbd.js.map